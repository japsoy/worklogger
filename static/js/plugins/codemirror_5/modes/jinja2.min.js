!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";a.defineMode("jinja2",function(){function f(f,g){var h=f.peek();if(g.incomment)return f.skipTo("#}")?(f.eatWhile(/\#|}/),g.incomment=!1):f.skipToEnd(),"comment";if(g.intag){if(g.operator){if(g.operator=!1,f.match(d))return"atom";if(f.match(e))return"number"}if(g.sign){if(g.sign=!1,f.match(d))return"atom";if(f.match(e))return"number"}if(g.instring)return h==g.instring&&(g.instring=!1),f.next(),"string";if("'"==h||'"'==h)return g.instring=h,f.next(),"string";if(f.match(g.intag+"}")||f.eat("-")&&f.match(g.intag+"}"))return g.intag=!1,"tag";if(f.match(b))return g.operator=!0,"operator";if(f.match(c))g.sign=!0;else if(f.eat(" ")||f.sol()){if(f.match(a))return"keyword";if(f.match(d))return"atom";if(f.match(e))return"number";f.sol()&&f.next()}else f.next();return"variable"}if(f.eat("{")){if(h=f.eat("#"))return g.incomment=!0,f.skipTo("#}")?(f.eatWhile(/\#|}/),g.incomment=!1):f.skipToEnd(),"comment";if(h=f.eat(/\{|%/))return g.intag=h,"{"==h&&(g.intag="}"),f.eat("-"),"tag"}f.next()}var a=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","openbrace","closebrace","opencomment","closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","plural"],b=/^[+\-*&%=<>!?|~^]/,c=/^[:\[\(\{]/,d=["true","false"],e=/^(\d[+\-\*\/])?\d+(\.\d+)?/;return a=new RegExp("(("+a.join(")|(")+"))\\b"),d=new RegExp("(("+d.join(")|(")+"))\\b"),{startState:function(){return{tokenize:f}},token:function(a,b){return b.tokenize(a,b)}}})});
